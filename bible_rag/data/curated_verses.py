"""Curated emotion-to-verse mappings for targeted support."""

EMOTION_VERSES: dict[str, list[str]] = {
    "anxiety": [
        "Philippians 4:6",
        "Philippians 4:7",
        "Matthew 6:25",
        "Matthew 6:26",
        "Matthew 6:27",
        "Matthew 6:34",
        "1 Peter 5:7",
        "Psalm 94:19",
        "Isaiah 41:10",
        "John 14:27",
    ],
    "fear": [
        "Psalm 23:4",
        "Isaiah 41:10",
        "2 Timothy 1:7",
        "Psalm 27:1",
        "Psalm 56:3",
        "Joshua 1:9",
        "Deuteronomy 31:6",
        "Romans 8:15",
        "Psalm 34:4",
        "Isaiah 43:1",
    ],
    "grief": [
        "Psalm 34:18",
        "Matthew 5:4",
        "Revelation 21:4",
        "Psalm 147:3",
        "2 Corinthians 1:3",
        "2 Corinthians 1:4",
        "John 14:1",
        "Psalm 23:4",
        "Romans 8:28",
        "Isaiah 41:10",
    ],
    "loneliness": [
        "Deuteronomy 31:6",
        "Hebrews 13:5",
        "Psalm 139:7",
        "Psalm 139:8",
        "Psalm 139:9",
        "Psalm 139:10",
        "Matthew 28:20",
        "Isaiah 41:10",
        "Psalm 23:4",
        "Romans 8:38",
        "Romans 8:39",
    ],
    "hopelessness": [
        "Jeremiah 29:11",
        "Romans 8:28",
        "Romans 15:13",
        "Psalm 42:11",
        "Lamentations 3:22",
        "Lamentations 3:23",
        "Isaiah 40:31",
        "Psalm 30:5",
        "2 Corinthians 4:16",
        "2 Corinthians 4:17",
        "2 Corinthians 4:18",
    ],
    "guilt": [
        "1 John 1:9",
        "Romans 8:1",
        "Psalm 103:12",
        "Isaiah 1:18",
        "Micah 7:19",
        "Hebrews 10:17",
        "2 Corinthians 5:17",
        "Psalm 32:5",
        "Acts 3:19",
        "Isaiah 43:25",
    ],
    "anger": [
        "Ephesians 4:26",
        "James 1:19",
        "James 1:20",
        "Proverbs 15:1",
        "Proverbs 14:29",
        "Colossians 3:8",
        "Psalm 37:8",
        "Proverbs 19:11",
        "Ecclesiastes 7:9",
        "Proverbs 16:32",
    ],
    "gratitude": [
        "Psalm 100:1",
        "Psalm 100:2",
        "Psalm 100:3",
        "Psalm 100:4",
        "Psalm 100:5",
        "1 Thessalonians 5:18",
        "Colossians 3:15",
        "Colossians 3:16",
        "Colossians 3:17",
        "Psalm 107:1",
        "Psalm 118:24",
    ],
    "strength": [
        "Philippians 4:13",
        "Isaiah 40:31",
        "Psalm 46:1",
        "2 Corinthians 12:9",
        "2 Corinthians 12:10",
        "Nehemiah 8:10",
        "Psalm 28:7",
        "Psalm 73:26",
        "Deuteronomy 31:6",
        "Joshua 1:9",
    ],
    "peace": [
        "John 14:27",
        "Philippians 4:6",
        "Philippians 4:7",
        "Isaiah 26:3",
        "Colossians 3:15",
        "Romans 15:13",
        "Psalm 29:11",
        "2 Thessalonians 3:16",
        "Numbers 6:24",
        "Numbers 6:25",
        "Numbers 6:26",
    ],
    "love": [
        "1 Corinthians 13:4",
        "1 Corinthians 13:5",
        "1 Corinthians 13:6",
        "1 Corinthians 13:7",
        "1 Corinthians 13:8",
        "John 3:16",
        "Romans 8:38",
        "Romans 8:39",
        "1 John 4:8",
        "1 John 4:19",
    ],
    "forgiveness": [
        "Ephesians 4:32",
        "Colossians 3:13",
        "Matthew 6:14",
        "Matthew 6:15",
        "Mark 11:25",
        "Luke 6:37",
        "Matthew 18:21",
        "Matthew 18:22",
        "1 John 1:9",
        "Psalm 103:12",
    ],
    "depression": [
        "Psalm 34:17",
        "Psalm 34:18",
        "Psalm 42:11",
        "Psalm 43:5",
        "Isaiah 41:10",
        "Matthew 11:28",
        "Matthew 11:29",
        "Matthew 11:30",
        "Romans 8:28",
        "2 Corinthians 1:3",
        "2 Corinthians 1:4",
    ],
    "doubt": [
        "Mark 9:24",
        "James 1:5",
        "James 1:6",
        "Hebrews 11:1",
        "Proverbs 3:5",
        "Proverbs 3:6",
        "Romans 10:17",
        "Matthew 21:21",
        "John 20:27",
        "John 20:29",
    ],
    "temptation": [
        "1 Corinthians 10:13",
        "James 1:12",
        "James 4:7",
        "Hebrews 2:18",
        "Hebrews 4:15",
        "Hebrews 4:16",
        "Matthew 26:41",
        "Galatians 5:16",
        "Romans 6:14",
        "2 Timothy 2:22",
    ],
}

# Emotion synonyms for flexible matching
EMOTION_SYNONYMS: dict[str, str] = {
    "anxious": "anxiety",
    "worried": "anxiety",
    "nervous": "anxiety",
    "stressed": "anxiety",
    "overwhelmed": "anxiety",
    "afraid": "fear",
    "scared": "fear",
    "terrified": "fear",
    "fearful": "fear",
    "sad": "grief",
    "mourning": "grief",
    "loss": "grief",
    "bereaved": "grief",
    "heartbroken": "grief",
    "alone": "loneliness",
    "isolated": "loneliness",
    "abandoned": "loneliness",
    "hopeless": "hopelessness",
    "despair": "hopelessness",
    "despairing": "hopelessness",
    "discouraged": "hopelessness",
    "guilty": "guilt",
    "ashamed": "guilt",
    "shame": "guilt",
    "remorse": "guilt",
    "regret": "guilt",
    "angry": "anger",
    "mad": "anger",
    "furious": "anger",
    "frustrated": "anger",
    "resentful": "anger",
    "thankful": "gratitude",
    "grateful": "gratitude",
    "blessed": "gratitude",
    "appreciative": "gratitude",
    "strong": "strength",
    "weak": "strength",
    "tired": "strength",
    "exhausted": "strength",
    "weary": "strength",
    "peaceful": "peace",
    "calm": "peace",
    "rest": "peace",
    "loving": "love",
    "loved": "love",
    "unloved": "love",
    "forgive": "forgiveness",
    "forgiving": "forgiveness",
    "depressed": "depression",
    "down": "depression",
    "low": "depression",
    "empty": "depression",
    "numb": "depression",
    "doubting": "doubt",
    "uncertain": "doubt",
    "questioning": "doubt",
    "tempted": "temptation",
    "struggling": "temptation",
}


def get_curated_verses(emotion: str) -> list[str]:
    """Get curated verse references for a given emotion."""
    emotion = emotion.lower().strip()
    # Check synonyms first
    normalized = EMOTION_SYNONYMS.get(emotion, emotion)
    return EMOTION_VERSES.get(normalized, [])


def detect_emotions(text: str) -> list[str]:
    """Detect emotions from text based on keywords."""
    text_lower = text.lower()
    detected = set()

    # Check for direct emotion matches
    for emotion in EMOTION_VERSES:
        if emotion in text_lower:
            detected.add(emotion)

    # Check for synonyms
    for synonym, emotion in EMOTION_SYNONYMS.items():
        if synonym in text_lower:
            detected.add(emotion)

    return list(detected)
